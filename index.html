<link rel="manifest" href="./manifest.webmanifest">
<link href='/img/nf.png' rel='apple-touch-icon' sizes='180x180'/>
<link href='/img/nf.png' rel='icon' sizes='32x32' type='image/png'/>
<link href='/img/nf.png' rel='icon' sizes='16x16' type='image/png'/>
<link href='https://cdn.jsdelivr.net/gh/Vivekmasona/manifest/Manifest.json' rel='manifest'/>
<meta content='#E74C3C' name='theme-color'/>
<meta content='#E74C3C' name='msapplication-navbutto-color'/>
<meta content='yes' name='apple-mobile-web-app-capable'/>
<meta content='#E74C3C' name='apple-mobile-web-app-status-bar-style'/>
<meta content='width=device-width, user-scalable=no' name='viewport'>
</meta>
<meta http-equiv="X-Frame-Options" content="DENY">
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<title>vfy music</title>


<link rel="stylesheet" href="connect/url/url.css" />
  <script src="connect/url/url.js" defer></script>

<script src="trending/td.js" defer></script>

<link rel="stylesheet" href="connect/player.css" />
<link rel="stylesheet" href="attachment/download.css" />
  <script src="connect/player.js" defer></script>
<script src="attachment/sharelink.js" defer></script>
<link rel="stylesheet" href="attachment/customalert.css" />
<link rel="stylesheet" href="attachment/list.css" />
<link rel="stylesheet" href="attachment/globlealert.css" />
<link rel="stylesheet" href="attachment/api.css" />
<link rel="stylesheet" href="attachment/sidemenu.css" />
<link rel="stylesheet" href="attachment/card.css" />
<link rel="stylesheet" href="attachment/slideshow.css" />
<link rel="stylesheet" href="attachment/singer.css" />
<link rel="stylesheet" href="attachment/remotecontrol.css" />
<link rel="stylesheet" href="attachment/share.css" />
<script src="attachment/footercolor.js" defer></script>
<script src="attachment/online.js" defer></script>
<script src="attachment/details.js" defer></script>
<script src="attachment/apipopup.js" defer></script>
<script src="attachment/call.js" defer></script>
<script src="attachment/copydl.js" defer></script>
<script src="attachment/trending.js" defer></script>
<script src="attachment/brand.js" defer></script>
<script src="attachment/slideshow.js" defer></script>
<script src="attachment/grant.js" defer></script>
<script src="attachment/remotecontrol.js" defer></script>
<script src="attachment/fullscreen.js" defer></script>
<script src="attachment/shake.js" defer></script>
<script src="attachment/suggestion.js" defer></script>
<script src="attachment/model.js" defer></script>
<script src="attachment/searchfilter.js" defer></script>
<script src="attachment/internate.js" defer></script>
<script src="attachment/share.js" defer></script>
<script src="attachment/singername.js" defer></script>






  
    
    

<audio id="myAudio" src="/sound/fw.mp3"></audio>

<script>
  // Audio element ko select karein
  var audio = document.getElementById("myAudio");

  // Sound ko autoplay karein jab webpage load hoti hai
  audio.autoplay = true;

  // Sound play hone par event listener lagayein
  audio.addEventListener('ended', function() {
    // Sound ko stop karein
    audio.pause();
  });
</script>
<script>
if (window !== window.top) {
    document.documentElement.innerHTML = '';
}


//custom alert



</script>

<b onclick="alert('This is a stylish alert!')"></b>

    <script>
        // Default alert() ko override karenge
        window.alert = function(message) {
            document.body.setAttribute('data-alert', message);
            document.body.classList.add('show-alert');
            
            // Alert ko 3 seconds baad automatically hide karne ke liye
            setTimeout(() => {
                document.body.classList.remove('show-alert');
            }, 3000);
        }
    </script>



<style>

#thumbnailContainer {
   position: relative;
}

#playButtonOverlay {
   position: absolute;
   z-index: -1;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   width: 465px;
   height: 465px;
   background: url('/img/mwave.gif') no-repeat;
   background-size: cover;
   cursor: pointer;
}

@-webkit-keyframes hue {
   100% { -webkit-filter: hue-rotate(360deg); }
}

#playButtonOverlay:hover {
   -webkit-animation: hue 1s linear infinite;
}


	
</style>


 




<div id="audioPlayerContainer">
    <svg id="playPauseButton" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
        <path id="playIcon" d="M8 5v14l11-7z"></path>
    </svg>
    
 <div id="sessionInfoContainer">
       <b id="callUser" disabled>
    <i class="fas fa-phone-alt" style="color: green;"></i>
</b>     
	<b id="endCall" style="display: none;">
  <i class="fas fa-phone-slash" style="color: red;"></i></b>   
<span id="sessionId"></span>
        <button id="copySessionIdButton"><i class="fas fa-copy"></i></button>
        <button id="editSessionIdButton"><i class="fas fa-edit"></i></button>
	
        <button id="shareSessionIdButton"><i class="fas fa-share-alt"></i></button>
    </div>
</div>

<audio id="audioPlayer"></audio>
<div id="controls">
    <button id="callUser" disabled></button>
    </div>






<b id="callbutto"></b>

    <b id="hide"></b>

    <script>
       document.getElementById("hide").addEventListener("click", function() {
            //alert("Button clicked!");
       });

        // Handle phone back button press
        window.addEventListener("popstate", function(event) {
            document.getElementById("hide").click();
            // Push state back to maintain the same state
            history.pushState({}, "");
        });

        // Push state to history initially
        history.pushState({}, "");
    </script>

  
 

   





<style>
  #vfytitle {
    font-size: 20px; /* Font size ko 25 pixels par set kiya gaya hai */
    font-family: 'bongee', sans-serif; /* Apne pasandeeda font ka naam yahan set karein */
    color: #ffffff; /* Font color ko white (#ffffff) par set kiya gaya hai */
    text-shadow: 2px 2px 6px #000000; /* Text shadow ko 2px horizontal, 2px vertical, 4px blur, aur black color (#000000) par set kiya gaya hai */
  }
</style>



<script>
document.addEventListener('contextmenu', function (e) {
    e.preventDefault(); // Prevent the default context menu
});
</script>
<link rel="manifest" href="./manifest.webmanifest">

<script>
var op = new Audio();
op.src = '/effect/Click.mp3';
</script>


<script>
    // Check if the webpage has been refreshed before
if (!sessionStorage.getItem("refreshed")) {
  // Set the "refreshed" flag in session storage
  sessionStorage.setItem("refreshed", "true");
  // Refresh the page after 2 seconds
  setTimeout(function() {
    location.reload();
  
} else {
  // If it's a revisit, refresh the page immediately
  location.reload();
}

  </script>







  
<style>

@-webkit-keyframes hue {
100% { -webkit-filter:hue-rotate(360deg); }
}
img:hover {
-webkit-animation:hue 10s linear infinite;
}
	
</style>




	<style>

#SThumb {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  position: relative;
box-shadow: 0 0 20px #000; /* Add dark black shadow */
}
#Fimg {
  width: 80;
  height: 60px;
  border-radius: 10%;
  position: relative;
box-shadow: 0 0 20px #000; /* Add dark black shadow */
}		

.layer {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  box-shadow: 0 0 20px # /* Add your logic for random color here */;
}

.layer:nth-child(1) {
  top: 5px;
  left: 5px;
}

.layer:nth-child(2) {
  bottom: 5px;
  right: 5px;
}

.layer:nth-child(3) {
  top: 5px;
  right: 5px;
}

.layer:nth-child(4) {
  bottom: 5px;
  left: 5px;
}

.rotate {
  animation: spin 5s linear infinite, hueBlink 2s infinite; /* Adjust durations as needed */
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes hueBlink {
  0% {
    filter: hue-rotate(0deg);
  }
  50% {
    filter: hue-rotate(180deg); /* Adjust the degree for half of the color spectrum */
  }
  100% {
    filter: hue-rotate(0deg);
  }
}

.spin-stop {
  animation: none;
}





</style>	









	










<script src='demo-to-prevent-copy-paste-on-blogger_files/googleapis.js'></script><script type='text/javascript'> if(typeof document.onselectstart!="undefined" ) {document.onselectstart=new Function ("return false" ); } else{document.onmousedown=new Function ("return false" );document.onmouseup=new Function ("return false"); } </script>

<vivek href="#" onmousedown="op.play()">









<html xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>

<script src="https://cdn.jsdelivr.net/gh/Vivekmasona/musicjs/jquery-1.11.3.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Vivekmasona/musicjs/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Vivekmasona/musicjs/jquery-mobile.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Vivekmasona/musicjs/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Vivekmasona/musicjs/jquery.mobile-1.4.5.min.css" />
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    
	

    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .dynamic-box {
    position: fixed;
    top: 200px;
    right: -1px;
    background: rgba(0, 0, 0, 0.4); /* Thoda transparent black */
    color: white;
    padding: 2px 2px;
    border-top-left-radius: 20px;
    border-bottom-left-radius: 20px;
    white-space: nowrap;
    z-index: 9999;
    visibility: hidden; /* Pehle se invisible */
    opacity: 0;         /* Transparent rahega */
    transition: opacity 0.3s ease, transform 0.3s ease;
    
    /* Glossy Blur Effect */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    /* 3D Floating Effect */
    box-shadow: 0px 5px 15px rgba(255, 255, 255, 0.2), 
                0px 10px 30px rgba(0, 0, 0, 0.5);
    transform: translateY(-5px);
}

        /* Jab box mein content hoga tab dikhai dega */
        .dynamic-box:not(:empty) {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>

    <div class="dynamic-box">
        <!-- Yaha pe content daalne par box dikhai dene lagega -->
    <span id="callTimer"></span>
    <div id="incomingCall" style="display: none;">
    <!-- Accept Call Button (Green Phone Icon) -->
    <b id="acceptCall" style="background: none; border: none; cursor: pointer;">
        <svg id="acceptIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
            <circle cx="12" cy="12" r="10" fill="green"/>
            <path d="M15.5 14.5c-1.2-.4-2.3-1.1-3.3-2.1s-1.7-2.1-2.1-3.3c-.1-.4 0-.8.3-1.1L11 6c.2-.2.2-.6 0-.9L9 4c-.2-.2-.6-.2-.9 0L6.6 5.6C6.2 6 6 6.6 6 7.2c0 2.2 1.1 4.6 3.1 6.6s4.4 3.1 6.6 3.1c.6 0 1.2-.2 1.6-.6l1.6-1.6c.2-.2.2-.6 0-.9l-1.2-1.2c-.3-.3-.7-.4-1.1-.3z" fill="white"/>
        </svg>
    </b>
    
    <!-- Reject Call Button (Red Phone Icon) -->
    <b id="rejectCall" style="background: none; border: none; cursor: pointer;">
        <svg id="rejectIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
            <circle cx="12" cy="12" r="10" fill="red"/>
            <path d="M15.5 14.5c-1.2-.4-2.3-1.1-3.3-2.1s-1.7-2.1-2.1-3.3c-.1-.4 0-.8.3-1.1L11 6c.2-.2.2-.6 0-.9L9 4c-.2-.2-.6-.2-.9 0L6.6 5.6C6.2 6 6 6.6 6 7.2c0 2.2 1.1 4.6 3.1 6.6s4.4 3.1 6.6 3.1c.6 0 1.2-.2 1.6-.6l1.6-1.6c.2-.2.2-.6 0-.9l-1.2-1.2c-.3-.3-.7-.4-1.1-.3z" fill="white"/>
            <line x1="8" y1="8" x2="16" y2="16" stroke="white" stroke-width="2"/>
            <line x1="16" y1="8" x2="8" y2="16" stroke="white" stroke-width="2"/>
        </svg>
    </b>
</div>     
    
    </div>

    



    


	
<div data-role="page" id="home" data-theme="b">
  
	
	
	<div id="upper">


	  
    <div data-role="header">



	    
        <a href="#" class="modal-btn" data-modal-btn-id="1"><i class='fas fa-wifi' onclick="clickButton()" style='font-size:18px;color:#E74C3C'></i></i></a>
	  
	    
	   

	    
	<button id="toggleButton">
	<i class="fa fa-compress" id="exitFullscreenIcon" style="display: none;font-size:18px;color:red"></i>	
    <i class="fa fa-expand" id="fullscreenIcon" style="font-size:18px;color:red"></i>	
    
    
  </button>    
	    
	    
	    
	    
	    <div class="vivek" id="example"></div>



<!-- Display the current video ID and time -->





	    
<h1>V F Y
<span id="brandName"></span></h1>


	





	
    
    </div>

<div id="progressBarContainer">
    <div id="progress"></div>
  </div>
		
    <div data-role="main" class="ui-content">
     <input type="search"  name="search"   id="search-basic" class="search-bar"placeholder="VIVEKFY: Type songs name artists...."/>
 <button onclick="search(),speakSearchText()" data-role="button" data-icon="search" data-mini="true" data-inline="true" data-theme="b" id="search-btn">search</button></sr>
	    
	
	

   <div id="autocomplete-results"></div>



 

    
    </div> 
	 
   </div>



  



	
    <div id="spacer"></div>


	
    

<div id="manualContent">
<span id="heading1"></span>
<div id="slider">  
<div class="slides">  
  <img src="https://i.ytimg.com/vi/V4mX8X8TZYs/maxresdefault.jpg" width="100%"onclick="searchAidcSongs()" />
 </div>
  
  <div class="slides">  
  <img src="https://i.ytimg.com/vi/qDSA1_tzjXY/maxresdefault.jpg" width="100%"onclick="searchsrlofiSongs()" />
 </div>
  
  <div class="slides">  
  <img src="https://i.ytimg.com/vi/I07dwC9CG5I/maxresdefault.jpg" width="100%"onclick="searchnonstopSongs()" />
 </div>
  
  <div class="slides">  
  <img src="https://i.ytimg.com/vi/9Tfbp9g8uHc/maxresdefault.jpg" width="100%"onclick="searchsadSongs()" />
 </div>
  
<div class="slides">  
  <img src="https://i.ytimg.com/vi/o2AIBjlCfUg/maxresdefault.jpg" width="100%"onclick="searchloveSongs()" />
 </div>
  
  <div id="dot"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
 </div>

	    
<div class="link-bar">
    <div class="grid-container">
      <div class="grid">
	  <div class="tab" onclick="searchshilpiSongs()">
          <img  src="/profile/shilpi.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
	   <div class="tab" onclick="searchshivaniSongs()">
          <img  src="/profile/shivani.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div> 
	  <div class="tab" onclick="searchkalluSongs()">
          <img  src="/profile/kallu.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>    
        <div class="tab" onclick="searchneelkamalsinghSongs()">
          <img  src="/profile/neelkamal.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
  <div class="tab"onclick="searchpawansinghSongs()">
          <img src="/profile/pawan.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
  <div class="tab"onclick="searchnehaSongs()">
          <img src="/profile/neha.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>

  <div class="tab"onclick="searchdarshanSongs()">
          <img src="/profile/darsan.jpg" alt="Profile 1" class="profile-image"  />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>

  <div class="tab"onclick="searchkhesariSongs()">
          <img src="/profile/khesari.jpg" alt="Profile 1" class="profile-image"  />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
	    <div class="tab"onclick="searchbadshahSongs()">
          <img src="/profile/badshah.jpg" alt="Profile 1" class="profile-image"  />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>  
<div class="tab"onclick="searchsachetSongs()" >
          <img src="/profile/sachet.jpg" alt="Profile 1" class="profile-image" />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
<div class="tab"onclick="searcharjitsinghSongs()">
          <img src="/profile/arjit.jpg" alt="Profile 1" class="profile-image"  />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>
	  <div class="tab"onclick="searchankushrajaSongs()">
          <img src="/profile/ankush.jpg" alt="Profile 1" class="profile-image"  />
          <div class="overlay"></div>
          <div class="watermark"></div>
        </div>    

        <!-- Repeat the above tab structure for each tab -->

      </div>
    </div>
  </div>



	    
    <div class="container-fluid" id="home-content">

	<div id="homepage-content"></div>    
      <div class="row">
<div id="videos">



<div id="songs"></div>

<div id="song-container"></div>

<!-- Favorite List ke liye Alag Div -->
<div id="favorite-list">
     <ul id="fav-songs"></ul>   

</div>

	

</div>	
</div>
<div class="row">
              </div>
      


        



    </div>
    </div>
  <div data-role="footer" data-position="fixed" data-id="main-footer" id="foot">
<center>


	
<b hidden='' id='vivek_maurya'><img src="/img/installimg.jpg" alt="vivekfy application" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999; background-color:#333; overflow: hidden; scrolling: no; position: fixed;"> 
 
</b>
	

<center><div id="custom-time-container">
	

	
	


<vfy id="showAutoClose">  

<a href="#" id="pahilagana" class="float1"></a>
<a href="#" id="vivekmasona" class="float1"></a>
</vfy>


	  
<style>
        body {
            margin: 0;
            padding: 0;
        }

        .fixed-footer {

	
    border-radius: 10px, 10px, 10px, 10px; /* Adjust the pixel value as needed */
    	
    position: fixed;
box-shadow: 0 0 15px #000;	
    bottom: 0;
    width: 100%;
    
    height: 59.5px;
    background: rgb(231,76,60);
background-color: transparent;
display: flex;	
    justify-content: space-between;
    align-items: center; /* Center vertically */
    padding: 10px;
}

.song-title {
    width: 80%;
    text-align: center;
}

@keyframes gradientAnimation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.play-button {
  position: relative;
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center;     /* Center vertically */
  width: 40px;             /* Button ka width */
  height: 40px;            /* Button ka height */
  border-radius: 5%;      /* Circular button */
  cursor: pointer;
  overflow: hidden;
  background: transparent; /* Button background transparent */
}

/* Icon & text ek hi jagah */
.play-button i {
  color: #FF5733;
  font-size: 40px;
  z-index: 2;
  position: relative;
}

/* Glossy blur background */
.play-button::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.3); /* semi-transparent white */
  backdrop-filter: blur(2px);            /* blur effect */
  border-radius: 50%;                     /* same as button */
  z-index: 1;
  pointer-events: none;                   /* click pass through */
}





    </style>
    
<script>



// Function to Save Song in Local Storage
function saveFavorite(index, title, thumbUrl, id) {
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    const song = { index, title, thumbUrl, id };

    // Check if song with this video ID is already saved
    if (!favorites.some(fav => fav.id === id)) {
        favorites.push(song);
        localStorage.setItem('favorites', JSON.stringify(favorites));
        alert('Song saved to favorites!');
        displayFavorites(); // Update favorite list display
    } else {
        alert('Song already in favorites!');
    }
}

// Function to Display Favorite Songs as Clickable List
function displayFavorites() {
    const favContainer = document.getElementById('fav-songs');
    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];

    favContainer.innerHTML = '';
    favorites.forEach(song => {
        const li = document.createElement('li');
        li.innerHTML = `
            <b onclick="loadFavoriteSong('${song.id}')" class="list" vid="${song.id}" style="position: relative;">
                <div class="video">
                    <img src="${song.thumbUrl}" alt="${song.title}" class="video-thumbnail">
                    <section>
                        <div>
                            <p>${song.title}</p>
                            <small class="video-info">Video ID: ${song.id}</small>
                        </div>
                    </section>
                    <b class="delete-btn" onclick="event.stopPropagation(); removeFavorite('${song.id}')">
                        <i class="fas fa-trash"></i>
                    </b>
                </div>
            </b>
        `;
        favContainer.appendChild(li);
    });
}

// Function to Load Song by Video ID
function loadFavoriteSong(id) {
    // Find the song element using the video ID
    const songElement = document.querySelector(`[vid="${id}"]`);
    if (songElement) {
        loadSong(songElement); // Call the existing loadSong with the full element
    } else {
        alert('Song not found!');
    }
}

// Function to Load Song (Update this if needed)
function loadSong(element) {
    const id = element.getAttribute('vid');
    console.log('Playing song with Video ID:', id);
    // Your existing logic to play the song goes here
}

// Function to Remove Favorite Song by Video ID
function removeFavorite(id) {
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    favorites = favorites.filter(song => song.id !== id);
    localStorage.setItem('favorites', JSON.stringify(favorites));
    displayFavorites(); // Update favorite list display
}

// Page Load hone par Favorite List ko Display karo
displayFavorites();



</script>


<!-- Your webpage content goes here -->

<footer class="fixed-footer" >
 <div class="play-button">
 <b  id="play"> <i class="fa fa-play" aria-hidden="true"></i></b>
</i></div>
<div class="song-title">

<span id="callStatus"></span>
 


	
<span onclick="openModal()" id="vfytitle" style="width: auto; display: inline-block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></span>
</div> 
<div id="mybutton">
<b class="feedback"><img id="Fimg" src="/img/play.jpg" alt="Thumbnail" onclick="clickButton()">
</b>
</div>	
</div>
</footer>
</!doctype>	
       
 
<script>

$(document).ready(function() {
  // Get the search query from the URL
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const query = urlParams.get('play');

  if (query) {
    // If a query is present in the URL, set it in the search bar
    $(".search-bar").val(query);
    // Trigger the search function with the query
    search(query); // Pass the query to the search function
  }
});
$(document).ready(function() {
  // URL params se q nikal lo
  const params = new URLSearchParams(window.location.search);
  const query = params.get("q");

  if (query) {
    $(".search-bar").val(decodeURIComponent(query));
    search(decodeURIComponent(query));
    openModal(); // Saath me modal open ho
  }
});
	
$(document).ready(function() {
  // Get the hash from the URL (after #)
  const hash = window.location.hash.substring(1); 

  if (hash) {
    // If a song name is present in the hash, set it in the search bar
    $(".search-bar").val(decodeURIComponent(hash));
    // Trigger the search function with the song name
    search(decodeURIComponent(hash)); // Pass the song name to the search function
  }
});

$(document).on('swipeleft', '.ui-page', function(event) {
    // Check if the event has already been handled to prevent multiple triggers
    if (event.handled !== true) {
        // Find the next page using the jQuery Mobile structure
        var nextpage = $.mobile.activePage.next('[data-role="page"]');

        // If there is a next page, navigate to it
        if (nextpage.length > 0) {
            $.mobile.changePage(nextpage, { 
                transition: "slide",  // Use a sliding transition
                reverse: false        // Navigate forward (not backward)
            }, true, true);
        }
        
        // Mark the event as handled to prevent further triggers
        event.handled = true;
    }
    
    return false;  // Prevent default action and stop event propagation
});

// Optional: You may also want to handle swipe right for navigation back
$(document).on('swiperight', '.ui-page', function(event) {
    if (event.handled !== true) {
        var prevpage = $.mobile.activePage.prev('[data-role="page"]');
        if (prevpage.length > 0) {
            $.mobile.changePage(prevpage, { 
                transition: "slide",  
                reverse: true // Navigate backward
            }, true, true);
        }
        event.handled = true;
    }
    
    return false; 
});


$(document).ready(function(){
    // Initially disable toggle button
    $("#hide").prop("disabled", true);

    // Toggle button click event
    $("#hide").click(function(){
        $("#homepage-content").empty(); // Clear the response content
        $("#manualContent").show(); // Show the manual content
        $("#hide").prop("disabled", true); // Disable toggle button again
    });

    // Function to handle response
    function handleResponse() {
        $("#hide").prop("disabled", false); // Enable toggle button
    }

    // Example function to simulate receiving response
    function receiveResponse() {
        // Simulate receiving response after some delay (for demonstration)
        setTimeout(function(){
            handleResponse(); // Call handleResponse function
        }, 10); // Change delay as needed
    }

    // Call receiveResponse function to simulate receiving response
    receiveResponse();
});




	
$(document).on('swiperight', '.ui-page', function(event){     
    if(event.handled !== true) {      
        var prevpage = $(this).prev('[data-role="page"]');
        if (prevpage.length > 0) {
            $.mobile.changePage(prevpage, {transition: "slide", reverse: true}, true, true);
        }
        event.handled = true;
    }
    return false;            
});

var firstSearch = true;
var currentQuery = "";
var nextPageToken = "";
var prevPageToken = "";
var youtubeApiKey = "AIzaSyCucRPiYESnpi1fTrr3XOqAjIWr7J3Jcb8"; // Your YouTube API Key

function search() {
    $("#homepage-content").html("");

    var q = $(".search-bar").val();
    if (!q) {
        console.warn("Search query is empty!");
        return;
    }

    currentQuery = q;
    let selectedAPI = $("input[name='apiSelection']:checked").val();
    let apiUrl;

    if (selectedAPI === "self") {
        apiUrl = `https://self-lac.vercel.app/v3-api?q=${encodeURIComponent(q)}`;
    } else if (selectedAPI === "self1") {
        apiUrl = `https://self-lac.vercel.app/v3-api1?q=${encodeURIComponent(q)}`;
    } else {
        apiUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(q)}&type=video&maxResults=40&key=${youtubeApiKey}`;
    }

    fetchResults(apiUrl);
}

function fetchResults(apiUrl) {
    $.get(apiUrl, function (data) {
        if (!data || !data.items) {
            console.error("Invalid API response:", data);
            $("#homepage-content").html("<p>No results found.</p>");
            return;
        }

        nextPageToken = data.nextPageToken || "";
        prevPageToken = data.prevPageToken || "";

        $("#homepage-content").html(""); 
        $.each(data.items, function (i, item) {
            var output = getOutput(item, i);
            if (output) {
                $("#homepage-content").append(output);
            }
        });

        if (firstSearch && data.items.length > 0) {
            loadSong($(".list")[0], 0);
            firstSearch = false;
        }

        $("#prev-btn").toggle(!!prevPageToken);
        $("#next-btn").toggle(!!nextPageToken);
    }).fail(function (error) {
        console.error("Error fetching data:", error);
        alert("Failed to load search results.");
    });
}

function paginate(direction) {
    let selectedAPI = $("input[name='apiSelection']:checked").val();
    let pageToken = direction === "next" ? nextPageToken : prevPageToken;
    if (!pageToken) return;

    let apiUrl;
    if (selectedAPI === "self") {
        apiUrl = `https://self-lac.vercel.app/v3-api?q=${encodeURIComponent(currentQuery)}&pageToken=${pageToken}`;
    } else if (selectedAPI === "self1") {
        apiUrl = `https://self-lac.vercel.app/v3-api1?q=${encodeURIComponent(currentQuery)}&pageToken=${pageToken}`;
    } else {
        apiUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(currentQuery)}&type=video&maxResults=40&pageToken=${pageToken}&key=${youtubeApiKey}`;
    }

    fetchResults(apiUrl);
}

// --- Your Output Function ---
let currentVideoListItem = null; 
let ytPlayer = null;
let isPlaying = false;

function getOutput(item, i) {
    var id = item.id?.videoId || item.id;
    var title = item.snippet?.title || "No title";
    var thumbUrl = item.snippet?.thumbnails?.medium?.url || 'https://example.com/default-thumbnail.jpg';

    if (item.snippet?.liveBroadcastContent === "live") return '';

    return `
        <b index="${i}" class="list" vid="${id}" style="position:relative;" onclick="handleAudioClick(this)">
            <div class="video" style="position:relative;">
                <i class="fas fa-heart save-icon" 
                   onclick="event.stopPropagation(); saveFavorite(${i}, '${title}', '${thumbUrl}', '${id}')"></i>

                <!-- Thumbnail -->
                <img src="${thumbUrl}" alt="${title}" 
                     class="video-thumbnail" index="${i}" vid="${id}" 
                     data-thumb="${thumbUrl}" style="width:100%;">

                <!-- Overlay play button -->
                <div class="overlay-play" style="
                    position:absolute; top:10px; right:10px;
                    width:40px; height:40px;
                    background:rgba(255,165,0,0.8);
                    border-radius:50%; display:flex;
                    align-items:center; justify-content:center;
                    cursor:pointer; z-index:10;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <path d="M3 22v-20l18 10-18 10z"/>
                    </svg>
                </div>

                <section>
                    <img src="img/logo.png" alt="Vivekfy" width="10%" padding="20">
                    <div><p>V F Y ${title}</p></div>
                </section>
            </div>
        </b>`;
}



// --- Handle audio click ---
function handleAudioClick(el) {
    // Stop any playing video first
    stopVideoIfPlaying();

    // Pause all other audios
    document.querySelectorAll("#SAudio").forEach(audio => audio.pause());

    loadSong(el); // your audio player function
}

// --- Stop current video and restore thumbnail ---
function stopVideoIfPlaying() {
    if (currentVideoListItem) {
        let iframeWrapper = currentVideoListItem.find('.yt-wrapper');
        let prevThumbUrl = iframeWrapper.data('thumb');
        if (iframeWrapper.length && prevThumbUrl) {
            iframeWrapper.replaceWith(
                `<img src="${prevThumbUrl}" alt="Video"
                      class="video-thumbnail" style="width:100%;"
                      data-thumb="${prevThumbUrl}">`
            );
        }
        currentVideoListItem = null;
        if (ytPlayer) ytPlayer.stopVideo();
        ytPlayer = null;
        isPlaying = false;
    }
}

// --- Popup show/hide ---
$("#showPopupbutto").click(() => $("#popupContainer").show());
$("#closePopup").click(() => $("#popupContainer").hide());

// --- Play video on overlay click ---
$(document).on('click', '.overlay-play', function(e) {
    e.stopPropagation();
    let listItem = $(this).closest('.list');
    let videoId = listItem.attr('vid');

    // Check if any audio is currently playing
    let anyAudioPlaying = false;
    document.querySelectorAll("#SAudio").forEach(audio => {
        if (!audio.paused) anyAudioPlaying = true;
    });

    // Only stop audio if it's currently playing
    if (anyAudioPlaying) {
        document.querySelectorAll("#SAudio").forEach(audio => audio.pause());
    }

    // Stop old video if switching
    if (currentVideoListItem && currentVideoListItem[0] !== listItem[0]) {
        stopVideoIfPlaying();
    }

    // Replace thumbnail with custom player wrapper
    let thumb = listItem.find('.video-thumbnail');
    if (thumb.length) {
        let thumbUrl = thumb.attr('src');
        let wrapper = $(`
            <div class="yt-wrapper" data-thumb="${thumbUrl}" style="position:relative; width:100%;">
                <div id="yt-player-${videoId}"></div>
                <!-- Custom Controls -->
                <div class="custom-controls" style="
                    position:absolute; bottom:10px; left:50%; transform:translateX(-50%);
                    width:95%; display:flex; align-items:center; gap:15px;
                    padding:8px 12px; border-radius:20px;
                    background:rgba(255,165,0,0.2); backdrop-filter:blur(12px);
                    box-shadow:0 4px 20px rgba(255,165,0,0.5);">

                    <button class="play-pause-btn" id="ytToggleBtn" onclick="togglePlayPause()" style="
                        width:45px; height:45px; border:none; border-radius:50%;
                        background:linear-gradient(145deg,#ff9900,#ff6600);
                        display:flex; align-items:center; justify-content:center; cursor:pointer;">
                        <svg viewBox="0 0 24 24" id="ytToggleIcon" fill="white" width="20" height="20">
                            <path d="M3 22v-20l18 10-18 10z"/>
                        </svg>
                    </button>

                    <input type="range" id="ytSeek" value="0" min="0" max="100" style="
                        flex:1; appearance:none; height:6px; border-radius:10px;
                        background:linear-gradient(90deg,orange,#ff6600); outline:none; cursor:pointer;">
                    
                    <input type="range" id="ytVol" value="100" min="0" max="100" style="
                        width:90px; appearance:none; height:6px; border-radius:10px;
                        background:linear-gradient(90deg,orange,#ff6600); outline:none; cursor:pointer;">
                </div>
            </div>
        `);
        thumb.replaceWith(wrapper);

        // Load YouTube API player
        ytPlayer = new YT.Player(`yt-player-${videoId}`, {
            height: '250',
            width: '100%',
            videoId: videoId,
            playerVars: { autoplay: 1, controls: 0, modestbranding: 1, rel: 0 },
            events: {
                'onReady': onYtReady,
                'onStateChange': onYtStateChange
            }
        });
    }

    currentVideoListItem = listItem;
});

// --- Ensure audio never plays with video ---
document.querySelectorAll("#SAudio").forEach(audio => {
    audio.addEventListener('play', () => {
        // Only stop video if audio actually starts
        if (ytPlayer && isPlaying) stopVideoIfPlaying();
    });
});

// --- YouTube API setup ---
function onYtReady() {
    updateYtSeek();
    document.getElementById("ytVol").addEventListener("input", e => {
        ytPlayer.setVolume(e.target.value);
    });
    document.getElementById("ytSeek").addEventListener("input", e => {
        let duration = ytPlayer.getDuration();
        ytPlayer.seekTo((e.target.value / 100) * duration, true);
    });
}

function updateYtSeek() {
    if (ytPlayer && ytPlayer.getDuration) {
        let duration = ytPlayer.getDuration();
        let current = ytPlayer.getCurrentTime();
        if (duration > 0) {
            document.getElementById("ytSeek").value = (current / duration) * 100;
        }
    }
    setTimeout(updateYtSeek, 1000);
}

function togglePlayPause() {
    if (!ytPlayer) return;
    if (isPlaying) {
        ytPlayer.pauseVideo();
        document.getElementById("ytToggleIcon").innerHTML = '<path d="M3 22v-20l18 10-18 10z"/>'; // play
    } else {
        ytPlayer.playVideo();
        document.getElementById("ytToggleIcon").innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; // pause
    }
    isPlaying = !isPlaying;
}

function onYtStateChange(event) {
    if (event.data == YT.PlayerState.ENDED) stopVideoIfPlaying();
    else if (event.data == YT.PlayerState.PLAYING) {
        isPlaying = true;
        document.getElementById("ytToggleIcon").innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; // pause
    } else if (event.data == YT.PlayerState.PAUSED) {
        isPlaying = false;
        document.getElementById("ytToggleIcon").innerHTML = '<path d="M3 22v-20l18 10-18 10z"/>'; // play
    }
}

// --- Load YouTube API ---
let tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
document.body.appendChild(tag);                


        



function loadSong(song, ind) {
    var id = $(song).attr("vid");
    var indId = parseInt($(song).attr("index"));
    var title = $(song).text();
    var thumbnail = 'https://img.youtube.com/vi/' + id + '/sddefault.jpg';

    // Get cache object
    var songsCache = JSON.parse(localStorage.getItem("songsCache") || "{}");

    // If song not cached, create entry
    if (!songsCache[id]) {
        songsCache[id] = {
            url: "", // play() function ke through update hoga
            title: title,
            thumbnail: thumbnail,
            lastUpdate: Date.now()
        };
    } else {
        // update title & thumbnail
        songsCache[id].title = title;
        songsCache[id].thumbnail = thumbnail;
        songsCache[id].lastUpdate = Date.now();
    }

    localStorage.setItem("songsCache", JSON.stringify(songsCache));

    // Save this as last played
    localStorage.setItem("lastPlayedId", id);

    // ---- UI SETUP ----
    $("#thumbnail").attr("src", thumbnail);
    $("#profileID").text("Profile ID: " + id);
    $("#profileThumbnail").html('<img src="' + thumbnail + '" alt="Profile Thumbnail">');
    $("#profileThumbnail").data("videoId", id);
    $("#vfytitle").html('<marquee behavior="alternate" scrollamount="4">' + title + '</marquee>');
    $("#currentTimeTitle").text("Current Time: " + new Date().toLocaleTimeString());
    $("#currentSongTitle").html('<marquee behavior="alternate" scrollamount="1">' + title + '</marquee>');
    $("#currentSongOutput").html('Video ID: ' + id + '<br>' +
                                 'Thumbnail: <img src="' + thumbnail + '" style="max-width:100%;">');
    $("#channelNameDiv").text("Channel ID: " + id);

    var downloadButton = $('<iframe id="downloadIframe" src="save?url=' + id + '" width="80%" height="50px" frameborder="0"></iframe>');
    $("#downloadButtonDiv").html(downloadButton);

    $("#currentPlayingSongId").text("Current Playing Song ID: " + id);

    // ---- PLAY SONG ----
    play(id, indId);

    // --- SAVE PROGRESS ONLY FOR LAST SONG ---
    var audio = document.getElementById("SAudio");
    if (audio) {
        audio.ontimeupdate = function () {
            var lastId = localStorage.getItem("lastPlayedId");
            if (lastId === id) {
                localStorage.setItem("lastSongTime", audio.currentTime);
            }
        };
    }
}

// ---- RESUME LAST SONG ON PAGE LOAD ----
window.addEventListener("load", function () {
    var lastId = localStorage.getItem("lastPlayedId");
    if (!lastId) return;

    var songsCache = JSON.parse(localStorage.getItem("songsCache") || "{}");
    var songInfo = songsCache[lastId];

    if (songInfo) {
        var dummy = $('<div>')
            .attr("vid", lastId)
            .attr("index", 0)
            .text(songInfo.title);

        loadSong(dummy, 0);

        var audio = document.getElementById("SAudio");
        var savedTime = localStorage.getItem("lastSongTime") || 0;

        if (audio) {
            audio.addEventListener("loadedmetadata", function () {
                // âœ… Only last song resume hoga, baki reset hoga
                if (savedTime && lastId === localStorage.getItem("lastPlayedId")) {
                    audio.currentTime = savedTime;
                } else {
                    audio.currentTime = 0; // reset for other songs
                }
                audio.play();
            });
        }
    }
});

// ---- PLAY FUNCTION UPDATE FOR URL CACHE ----
function play(videoId, index) {
    var songsCache = JSON.parse(localStorage.getItem("songsCache") || "{}");

    // Agar cache me URL available hai aur expire nahi hua hai
    if (songsCache[videoId] && songsCache[videoId].url && Date.now() - songsCache[videoId].lastUpdate < 1000 * 60 * 30) {
        // 30 min ke andar url valid maana
        document.getElementById("SAudio").src = songsCache[videoId].url;
    } else {
        // Naya URL generate karna padega (API call se)
        $.get("/getGooglePlaybackUrl?videoId=" + videoId, function (data) {
            var playbackUrl = data.url; // API se jo url milega
            songsCache[videoId].url = playbackUrl;
            songsCache[videoId].lastUpdate = Date.now();
            localStorage.setItem("songsCache", JSON.stringify(songsCache));

            document.getElementById("SAudio").src = playbackUrl;
        });
    }
}
    





function play(id,Sid){
  // data = "https://distinctive-netta-vivekfy-608ee81c.koyeb.app/play?url=https://youtu.be/"+id;
    //data = "https://vivekfy.vercel.app/hack?url=https://vkrdownloader.xyz/download.php?vkr=https://youtu.be/"+id+"&redirect=1";
      //data = "https://vivekfy.vercel.app/audio?itag=249&url=https://youtu.be/"+id;
      //data = "https://vivekfy.vercel.app/api-play?url=https://youtu.be/"+id;
    data = "https://vivekfy.vercel.app/inv?id="+id;
      //data = "https://vivekfy.vercel.app/mp3?url=https://vkrdownloader.xyz/download.php?vkr=https://youtu.be/"+id;
     //data = "https://inv-ca1-c.nadeko.net/latest_version?id="+id+"&itag=250&local=true";
     //data = "https://myserver-dev-atmq.2.ie-1.fl0.io/audio?url=https://youtu.be/"+id;
     //data = "https://audioserver-dev-cgen.2.sg-1.fl0.io/"+id;
    document.getElementById("SThumb").src = "https://i.ytimg.com/vi/"+id+"/mqdefault.jpg";
    document.getElementById("Fimg").src = "https://i.ytimg.com/vi/"+id+"/mqdefault.jpg";
     document.getElementById("pahilagana").onclick = ()=>{
       location.href= "https://vivekfy.vercel.app/dl?url=https://youtu.be/"+id;
        //location.href= "https://vivekfy.vercel.app/download/audio?url=https://youtu.be/"+id;
        //location.href= "https://vivekfy-server.000webhostapp.com/audio/download?url=https://youtu.be/"+id;
    };
	document.getElementById("VFYmp3").onclick = ()=>{
        //location.href= "https://vivekfy-server.000webhostapp.com/audio/download?url=https://youtu.be/"+id;
        location.href= "https://vivekfy.vercel.app/audio-dl?url=https://youtu.be/"+id;
        //location.href= "https://vivekdl.000webhostapp.com/audio/download?url=https://youtu.be/"+id;
    };

	document.getElementById("VFYmp3v2").onclick = ()=>{
        location.href= "https://vivekfy.vercel.app/audio-dl?url=https://youtu.be/"+id;
        //location.href= "https://vivekfy.fanclub.rocks/audio?url=https://youtu.be/"+id;
        //location.href= "https://vivekdl.000webhostapp.com/audio/download?url=https://youtu.be/"+id;
    };
document.getElementById("vivekmasona").onclick = ()=>{
        location.href= "https://vivekfy.vercel.app/api?url=https://youtu.be/"+id;
        //location.href= "https://myserver-dev-akkd.2.sg-1.fl0.io/mp4?url=https://youtu.be/"+id;
        //location.href= "https://vivekfy-api-v2.onrender.com/video?url=https://youtu.be/"+id;
     //location.href= "https://vivekfy-obg6.onrender.com/download/video?url=https://youtu.be/"+id;
        };

    
var audio = document.getElementById("SAudio");

// Function to play the next song
function playNextSong() {
    var nextSongIndex = Sid + 1; // Calculate the index of the next song
    var playlistItems = document.getElementsByClassName("list");

    
	

    if (nextSongIndex < playlistItems.length) {
        playlistItems[nextSongIndex].click(); // Play the next song
        audio.play(); // Play the audio

        // Update the profile thumbnail and video ID for the next song
        var nextSong = playlistItems[nextSongIndex];
        var nextThumbnail = $(nextSong).children('img').attr("src");
        var nextVideoId = $(nextSong).attr("vid");
        $("#profileThumbnail").html('<img src="' + nextThumbnail + '" alt="Profile Thumbnail">');
        $("#profileThumbnail").data("videoId", nextVideoId);

        console.log('Automatically went to the next song and started playing.');
    } else {
        console.log('End of playlist');
        // You may want to handle what happens when it's the end of the playlist.
    }
}

function playPause() {
   var audio = document.getElementById("SAudio");

   if (audio.paused) {
      audio.play();
   } else {
      audio.pause();
   }
}

	

// Listen for the 'ended' event
audio.addEventListener("ended", function() {
    playNextSong();
});

// Listen for the 'error' event
var alternativeAudioSources = [
//"https://vivekfy.vercel.app/tokyo?id=" + id,
//"https://vivekfy.vercel.app/audio-dl?url=https://youtu.be/" + id,
"https://vivekfy.vercel.app/inv1?id=" + id,
"https://vivekfy.vercel.app/inv2?id=" + id,
"https://vivekfy.vercel.app/audio-dl?url=https://youtu.be/" + id,
"https://vivekfy.vercel.app/tokyo?id=" + id,   
//"https://vivekfy.vercel.app/mp3?url=https://vkrdownloader.xyz/download.php?vkr=https://youtu.be/" + id,
//"https://vivekfy.vercel.app/mp3?url=https://vkrdownloader.xyz/download.php?vkr=https://youtu.be/" + id,
//"https://distinctive-netta-vivekfy-608ee81c.koyeb.app/play?url=https://youtu.be/" + id,	
//"https://distinctive-netta-vivekfy-608ee81c.koyeb.app/play?url=https://youtu.be/" + id,
"https://vivekfy.vercel.app/audio?itag=249&url=https://youtu.be/" + id,
"https://vivekfy.vercel.app/audio?itag=251&url=https://youtu.be/" + id,
    
];

var currentAlternativeIndex = 0;

audio.addEventListener("error", function () {
    setTimeout(function () {
        audio.src = alternativeAudioSources[currentAlternativeIndex];
        audio.load();
        audio.play();
        currentAlternativeIndex = (currentAlternativeIndex + 1) % alternativeAudioSources.length;
    }, 1000);
});


// butto click event
var nextbutto = document.getElementById("nextbutto");
nextbutto.addEventListener("click", function () {
    playNextSong();
});








	
var audio = document.getElementById('SAudio');
var fastForwardbutto = document.getElementById('fastForwardbutto');

fastForwardbutto.addEventListener('click', function () {
    audio.currentTime += 10;
});
var audio = document.getElementById('SAudio');
var rewindbutto = document.getElementById('rewindbutto');

rewindbutto.addEventListener('click', function () {
    if (audio.currentTime >= 5) {
        audio.currentTime -= 5;
    } else {
        audio.currentTime = 0;
    }
});

var audio = document.getElementById("SAudio");
  var seekbar = document.getElementById("seekbar");

  audio.addEventListener("timeupdate", function() {
    var value = (audio.currentTime / audio.duration) * 100;
    seekbar.value = value;
  });

  seekbar.addEventListener("input", function() {
    var seekto = audio.duration * (seekbar.value / 100);
    audio.currentTime = seekto;
  });	

var audio = document.getElementById('SAudio');
var volume10butto = document.getElementById('volume10');
var volume50butto = document.getElementById('volume50');
var volume100butto = document.getElementById('volume100');

volume10butto.addEventListener('click', function () {
    audio.volume = 0; // Set volume to 10%
});

volume50butto.addEventListener('click', function () {
    audio.volume = 0.5; // Set volume to 50%
});

volume100butto.addEventListener('click', function () {
    audio.volume = 1.0; // Set volume to 100%
});

var audio = document.getElementById('SAudio');
var volumeSlider = document.getElementById('volumeSlider');

volumeSlider.addEventListener('input', function () {
    audio.volume = volumeSlider.value / 100;
});


   

 
 const titleaudio = document.getElementById('SAudio');
const songTitleElement = document.getElementById('vfytitle');
const thumbnailElement = document.getElementById('SThumb');
const nextButtonElement = document.getElementById('nextbutto');
const prevButtonElement = document.getElementById('VFYmp3'); // Previous button added
const heartButtonElement = document.getElementById('VFYmp3v2');
const downloadButtonElement = document.getElementById('VFYmp3');

// Global title variable
let title = "Unknown Title";

// Variable to keep track of the current notification
let currentNotification = null;

// Function to update the song title
function updateTitle() {
    title = songTitleElement ? songTitleElement.textContent.trim() : "Unknown Title"; 
    console.log("Updated Title:", title); // Debugging
}

// Function to update Media Session metadata
function updateMediaSessionMetadata() {
    updateTitle();
    const thumbnailUrl = thumbnailElement ? thumbnailElement.src : '';

    if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
            title: title,
            artist: 'www.vivekmasona.com',
            album: 'VivekFy',
            artwork: [
                { src: thumbnailUrl, sizes: '96x96', type: 'image/jpg' },
                { src: thumbnailUrl, sizes: '128x128', type: 'image/jpg' },
                { src: thumbnailUrl, sizes: '192x192', type: 'image/jpg' },
                { src: thumbnailUrl, sizes: '256x256', type: 'image/jpg' },
                { src: thumbnailUrl, sizes: '384x384', type: 'image/jpg' },
                { src: thumbnailUrl, sizes: '512x512', type: 'image/jpg' },
            ]
        });

        // Media session action handlers
        navigator.mediaSession.setActionHandler('play', () => titleaudio.play());
        navigator.mediaSession.setActionHandler('pause', () => titleaudio.pause());
        navigator.mediaSession.setActionHandler('nexttrack', () => nextButtonElement.click());
        navigator.mediaSession.setActionHandler('previoustrack', () => prevButtonElement.click()); // Previous track support
        navigator.mediaSession.setActionHandler('seekbackward', () => {
            titleaudio.currentTime = Math.max(titleaudio.currentTime - 10, 0);
        });
        navigator.mediaSession.setActionHandler('seekforward', () => {
            titleaudio.currentTime = Math.min(titleaudio.currentTime + 10, titleaudio.duration);
        });
    } else {
        console.log('The Media Session API is not supported in this browser.');
    }
}

// Function to show notification with updated title
function showNotification() {
    updateTitle();
    const thumbnailUrl = thumbnailElement ? thumbnailElement.src : '';

    const options = {
        body: 'Audio is playing',
        icon: thumbnailUrl,
        actions: [
            { action: 'prev', title: 'Previous', icon: 'path/to/prev-icon.png' },
            { action: 'seekbackward', title: 'Rewind', icon: 'path/to/seek-back-icon.png' },
            { action: 'seekforward', title: 'Fast Forward', icon: 'path/to/seek-forward-icon.png' },
            { action: 'heart', title: 'Favorite', icon: 'path/to/heart-icon.png' },
            { action: 'next', title: 'Next', icon: 'path/to/next-icon.png' },
            { action: 'download', title: 'Download', icon: 'path/to/download-icon.png' }
        ]
    };

    if (currentNotification) {
        currentNotification.close();
    }

    if (Notification.permission === 'granted') {
        currentNotification = new Notification(title, options);
        currentNotification.addEventListener('click', (event) => {
            if (event.action === 'next') {
                nextButtonElement.click();
            } else if (event.action === 'prev') {
                prevButtonElement.click(); // Previous song support
            } else if (event.action === 'heart') {
                heartButtonElement.click();
            } else if (event.action === 'download') {
                downloadButtonElement.click();
            } else if (event.action === 'seekbackward') {
                titleaudio.currentTime = Math.max(titleaudio.currentTime - 10, 0);
            } else if (event.action === 'seekforward') {
                titleaudio.currentTime = Math.min(titleaudio.currentTime + 10, titleaudio.duration);
            }
        });
    } else if (Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
            if (permission === 'granted') {
                currentNotification = new Notification(title, options);
                currentNotification.addEventListener('click', (event) => {
                    if (event.action === 'next') {
                        nextButtonElement.click();
                    } else if (event.action === 'prev') {
                        prevButtonElement.click(); // Previous song support
                    } else if (event.action === 'heart') {
                        heartButtonElement.click();
                    } else if (event.action === 'download') {
                        downloadButtonElement.click();
                    } else if (event.action === 'seekbackward') {
                        titleaudio.currentTime = Math.max(titleaudio.currentTime - 10, 0);
                    } else if (event.action === 'seekforward') {
                        titleaudio.currentTime = Math.min(titleaudio.currentTime + 10, titleaudio.duration);
                    }
                });
            }
        });
    }
}

// Update the Media Session metadata initially
updateMediaSessionMetadata();

// Event listener when audio plays
titleaudio.addEventListener('play', () => {
    updateTitle();
    document.title = `${title} - ${Math.floor(titleaudio.currentTime)} seconds`;
    showNotification();
});

// Event listener when audio pauses
titleaudio.addEventListener('pause', () => {
    document.title = 'VIVEKFY-AI';
});

// Add event listener for the next button
nextButtonElement.addEventListener('click', () => {
    updateTitle();
    updateMediaSessionMetadata();
    showNotification();
    console.log('Next song button clicked:', title);
});

// Add event listener for the previous button
prevButtonElement.addEventListener('click', () => {
    updateTitle();
    updateMediaSessionMetadata();
    showNotification();
    console.log('Previous song button clicked:', title);
});

// Add event listener for the heart button
heartButtonElement.addEventListener('click', () => {
    console.log('Heart button clicked:', title);
});

// Add event listener for the download button
downloadButtonElement.addEventListener('click', () => {
    console.log('Download button clicked:', title);
});                   








	

const audioPlayer = document.getElementById("SAudio");
const customTimeContainer = document.getElementById("custom-time-container");
const currentTimeDisplay = document.getElementById("current-time");
const totalTimeDisplay = document.getElementById("total-time");

audioPlayer.addEventListener("loadedmetadata", () => {
  const totalDuration = audioPlayer.duration;
  totalTimeDisplay.textContent = formatTime(totalDuration);
});

audioPlayer.addEventListener("timeupdate", () => {
  const currentTime = audioPlayer.currentTime;
  currentTimeDisplay.textContent = formatTime(currentTime);
});

function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.floor(seconds % 60);
  return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
}

// Function to convert time in format '0:00' to seconds
function convertTimeToSeconds(time) {
  var parts = time.split(":");
  var minutes = parseInt(parts[0]);
  var seconds = parseInt(parts[1]);
  return (minutes * 60) + seconds;
}



    
    
const mainAudio = document.getElementById('SAudio');
const watermarkAudio1 = document.getElementById('watermarkAudio1');
const watermarkAudio2 = document.getElementById('watermarkAudio2');
const coverImage = document.getElementById('SThumb');
const playButtonOverlay = document.getElementById('playButtonOverlay');

// When the main audio is loaded, start playing the first watermark audio, rotate the image, and set volume.
mainAudio.addEventListener('loadedmetadata', () => {
    watermarkAudio1.play();
    rotateCoverImage(true); // Rotate the cover image
    setVolumeForWatermarkAudios(0.2); // Adjust the volume as needed (0.2 means 20% of the main audio volume).
});

// Listen for the 'ended' event on the main audio to start playing the second watermark audio, stop rotating the image, and set volume.
mainAudio.addEventListener('ended', () => {
    watermarkAudio2.play();
    rotateCoverImage(false); // Stop rotating the cover image
    setVolumeForWatermarkAudios(0.2); // Adjust the volume as needed (0.2 means 20% of the main audio volume).
});

// When the main audio plays, rotate the image.
mainAudio.addEventListener('play', () => {
    rotateCoverImage(true); // Rotate the cover image
    showPlayButton();
});

// When the main audio pauses or is manually paused, stop rotating the image.
mainAudio.addEventListener('pause', () => {
    rotateCoverImage(false); // Stop rotating the cover image
    hidePlayButton();
});

// When the main audio ends, hide the play button overlay
mainAudio.addEventListener('ended', () => {
    hidePlayButton();
});

// Function to show the play button overlay
function showPlayButton() {
    playButtonOverlay.style.display = 'block';
}

// Function to hide the play button overlay
function hidePlayButton() {
    playButtonOverlay.style.display = 'none';
}

// Function to rotate the cover image
function rotateCoverImage(rotate) {
    if (rotate) {
        coverImage.classList.add('rotate');
    } else {
        coverImage.classList.remove('rotate');
    }
}

// Function to set volume for watermark audios
function setVolumeForWatermarkAudios(volume) {
    watermarkAudio1.volume = volume;
    watermarkAudio2.volume = volume;
}

// To hide the watermark audio player controls, you can style it or set 'controls' attribute to false for both watermark audio elements.
watermarkAudio1.controls = false;
watermarkAudio2.controls = false;

	



	

	audio.addEventListener("timeupdate", function() {
  const currentTime = audio.currentTime;
  const duration = audio.duration;
  const progress = (currentTime / duration) * 100;
  document.getElementById("progress").style.width = progress + "%";
});


  document.getElementById("play").onclick = function () {
  if (audio.paused) {
    document.querySelector("#play i").className = "fa fa-pause";
    audio.play();
    document.getElementById("SThumb").classList.add("rotate"); // Add the "rotate" class
  } else {
    audio.pause();
    document.querySelector("#play i").className = "fa fa-play";
    document.getElementById("SThumb").classList.remove("rotate"); // Remove the "rotate" class
  }
};

// Add the following code for the "Stop" butto
document.getElementById("stop").onclick = function() {
    audio.pause();
    audio.currentTime = 0; // Rewind the audio to the beginning
    document.querySelector("#play i").className = "fa fa-play";
};

    audio.src=data;
     audio.pause();
   var ids = localStorage.getItem("playPresent");
   if(audio){
     audio.pause();
     audio.play();
      document.querySelector("#play i").className = "fa fa-pause";
   }
}
</script></div>


<butto id="pahilagana"></butto>
    <butto id="vivekmasona"></butto>
<div id="togglebutto"></div>
   
    
<script>
    let isVoiceRecognitionOn = false;
let recognitionTimeout;

const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
recognition.lang = 'en-US';
recognition.interimResults = false;

const togglebutto = document.getElementById('togglebutto');
const searchBox = document.getElementById('search-basic');
const searchButton = document.getElementById('search-btn');

// Add random sound file paths
const randomSounds = [
  "/sound/aass.mp3",
  "/sound/help5.mp3",
  "/sound/help.mp3",
  "/sound/help1.mp3"
];

togglebutto.addEventListener('click', function () {
    playRandomSound();

    setTimeout(function () {
        startVoiceRecognition();
    }, 2700);
});

function playRandomSound() {
    const randomIndex = Math.floor(Math.random() * randomSounds.length);
    playAudio(randomSounds[randomIndex]);
}

function startVoiceRecognition() {
    recognition.start();
    recognitionTimeout = setTimeout(function () {
        recognition.stop();
        //playAudio("/sound/always.mp3");
    }, 150000);
}

recognition.onresult = function(event) {
    const lastResult = event.results[event.results.length - 1][0].transcript;

    let commandMatched = false;
    

    // Check if the voice command matches any predefined commands
        if (lastResult.toLowerCase() === 'mp3' ||
            lastResult.toLowerCase() === 'download mp3' ||
	    lastResult.toLowerCase() === 'download song' ||
            lastResult.toLowerCase() === 'save MP3' ||
            lastResult.toLowerCase() === 'mp3 download' ||
            lastResult.toLowerCase() === 'download this song' ||
            lastResult.toLowerCase() === 'audio' ||
            lastResult.toLowerCase() === 'audio download' ||
            lastResult.toLowerCase() === 'save audio') {
            // Handle audio-related commands
            const butto1 = document.getElementById('pahilagana');
            butto1.click();
            playAudio('/sound/saveaudio.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'video download' ||
            lastResult.toLowerCase() === 'download video' ||
            lastResult.toLowerCase() === 'mp4' ||
            lastResult.toLowerCase() === 'mp4 download' ||
            lastResult.toLowerCase() === 'download mp4') {
            // Handle video-related commands
            const butto1 = document.getElementById('vivekmasona');
            butto1.click();
            playAudio('/sound/savevideo.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'play video' ||
            lastResult.toLowerCase() === 'video play' ||
            lastResult.toLowerCase() === 'video') {
            // Handle video playback commands
            const butto1 = document.getElementById('playVideobutto');
            butto1.click();
            playAudio('/sound/video.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
	if (lastResult.toLowerCase() === 'uploader' ||
            lastResult.toLowerCase() === 'open upload' ||
            lastResult.toLowerCase() === 'audio upload') {
            // Handle video playback commands
            const butto1 = document.getElementById('openPopupBtn');
            butto1.click();
            playAudio('/sound/video.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
	}
        if (lastResult.toLowerCase() === 'song' ||
            lastResult.toLowerCase() === 'play song' ||
            lastResult.toLowerCase() === 'song play' ||
            lastResult.toLowerCase() === 'audio start' ||
            lastResult.toLowerCase() === 'start audio' ||
            lastResult.toLowerCase() === 'Gana' ||
            lastResult.toLowerCase() === 'audio play') {
            // Handle playing songs or audio
            const butto1 = document.getElementById('togglebutto');
            butto1.click();
            playAudio('/sound/song.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
	if (lastResult.toLowerCase() === 'download' ||
            lastResult.toLowerCase() === 'download my link' ||
	    lastResult.toLowerCase() === 'copy url download' ||
	    lastResult.toLowerCase() === 'save my link' ||
	    lastResult.toLowerCase() === 'copy download' ||
	    lastResult.toLowerCase() === 'copy link save' ||
	    lastResult.toLowerCase() === 'url save' ||
	    lastResult.toLowerCase() === 'download url' ||
	    lastResult.toLowerCase() === 'link download' ||
            lastResult.toLowerCase() === 'copy link download') {
            // Handle volume down commands
            const butto1 = document.getElementById('downloadButton1');
            butto1.click();
            playAudio('/sound/curldl.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }  
        if (lastResult.toLowerCase() === 'vivek masona' ||
            lastResult.toLowerCase() === 'developer vivek' ||
            lastResult.toLowerCase() === 'who is vivek' ||
            lastResult.toLowerCase() === 'vivek maurya' ||
            lastResult.toLowerCase() === 'vivek') {
            // Handle news-related or download commands
            const butto1 = document.getElementById('AdVideo');
            butto1.click();
            playAudio('/sound/vivekmasona.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'jaan kis do' ||
            lastResult.toLowerCase() === 'chumma do' ||
	    lastResult.toLowerCase() === 'kis do' ||
	    lastResult.toLowerCase() === 'kis do na' ||
	    lastResult.toLowerCase() === 'land logi' ||
	    lastResult.toLowerCase() === 'munh Mein logi' ||
	    lastResult.toLowerCase() === 'land legi' ||
	    lastResult.toLowerCase() === 'munh Mein legi' ||
            lastResult.toLowerCase() === 'jaan chumma do' ||
            lastResult.toLowerCase() === 'kareza chumma do na' ||
            lastResult.toLowerCase() === 'jaan chumma do na') {
            // Handle news-related or download commands
            const butto1 = document.getElementById('AdAudio');
            butto1.click();
            playAudio('/sound/Nobabu.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
	
	if (lastResult.toLowerCase() === 'volume down' ||
	    lastResult.toLowerCase() === 'silent' ||
	    lastResult.toLowerCase() === 'mute' ||
            lastResult.toLowerCase() === 'volume decrease' ||
            lastResult.toLowerCase() === 'decrease sound') {
            // Handle volume down commands
            const butto1 = document.getElementById('volume10');
            butto1.click();
            playAudio('/sound/downvolume.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 
	if (lastResult.toLowerCase() === 'i have a question' ||
	    lastResult.toLowerCase() === 'i have a questions' ||
	    lastResult.toLowerCase() === 'i have questions' ||
            lastResult.toLowerCase() === 'i need help' ||
            lastResult.toLowerCase() === 'kuchh puchhna tha tumse') {
            // Handle help commands
            const butto1 = document.getElementById('micBtn');
            butto1.click();
            playAudio('/sound/ask.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 
	if (lastResult.toLowerCase() === 'hello' ||
	    lastResult.toLowerCase() === 'hey' ||
            lastResult.toLowerCase() === 'suno' ||
	    lastResult.toLowerCase() === 'hello babu' ||
	    lastResult.toLowerCase() === 'babu' ||
            lastResult.toLowerCase() === 'hey you') {
            // Handle volume down commands
            const butto1 = document.getElementById('hello');
            butto1.click();
            playAudio('/sound/yes.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 
        if (lastResult.toLowerCase() === 'volume increase' ||
            lastResult.toLowerCase() === 'volume full' ||
	    lastResult.toLowerCase() === 'volume up' ||
            lastResult.toLowerCase() === 'sound full' ||
            lastResult.toLowerCase() === 'full sound') {
            // Handle volume increase commands
            const butto1 = document.getElementById('volume100');
            butto1.click();
            playAudio('/sound/fullvolume.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'next' ||
            lastResult.toLowerCase() === 'song change' ||
	    lastResult.toLowerCase() === 'next song' ||
	    lastResult.toLowerCase() === 'song next' ||
            lastResult.toLowerCase() === 'change song') {
            // Handle commands for changing to the next song
            const butto1 = document.getElementById('nextbutto');
            butto1.click();
            playAudio('/sound/nextsong.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'forward' ||
            lastResult.toLowerCase() === 'song forward' ||
            lastResult.toLowerCase() === 'forward song') {
            // Handle commands for forwarding the song
            const butto1 = document.getElementById('fastForwardbutto');
            butto1.click();
            playAudio('/sound/forward1.mp3');            
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'backward' ||
            lastResult.toLowerCase() === 'rewind' ||
            lastResult.toLowerCase() === 'song rewind' ||
            lastResult.toLowerCase() === 'rewind song' ||
            lastResult.toLowerCase() === 'backward song') {
            // Handle commands for rewinding the song
            const butto1 = document.getElementById('rewindbutto');
            butto1.click();
            playAudio('/sound/rewind1.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
	if (lastResult.toLowerCase() === 'developer name' ||
            lastResult.toLowerCase() === 'your developer' ||
            lastResult.toLowerCase() === 'developer' ||
            lastResult.toLowerCase() === 'your developer name' ||
            lastResult.toLowerCase() === 'vfy developer') {
            // Handle commands for rewinding the song
            const butto1 = document.getElementById('developer');
            butto1.click();
            playAudio('/sound/vivekbabu1.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 
	  if (lastResult.toLowerCase() === 'i love you' ||
            lastResult.toLowerCase() === 'you are my love' ||
            lastResult.toLowerCase() === 'pagal') {
            // Handle volume down commands
            const butto1 = document.getElementById('iloveyou');
            butto1.click();
            playAudio('/sound/love.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }  
        if (lastResult.toLowerCase() === 'stop' ||
            lastResult.toLowerCase() === 'song stop' ||
            lastResult.toLowerCase() === 'stop song' ||
            lastResult.toLowerCase() === 'music stop' ||
            lastResult.toLowerCase() === 'stop music' ||
            lastResult.toLowerCase() === 'audio stop' ||
            lastResult.toLowerCase() === 'stop audio' ||
	    lastResult.toLowerCase() === 'band' ||
	    lastResult.toLowerCase() === 'gana band karo' ||
	    lastResult.toLowerCase() === 'band karo' ||
            lastResult.toLowerCase() === 'stop mp3' ||
            lastResult.toLowerCase() === 'mp3 stop') {
            // Handle commands for stopping audio
            const butto1 = document.getElementById('play');
            butto1.click();
            playAudio('/sound/songstop.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
        if (lastResult.toLowerCase() === 'play' || 
	lastResult.toLowerCase() === 'chalu' ||
	lastResult.toLowerCase() === 'start' ||	
	lastResult.toLowerCase() === 'suru karo' ||
	lastResult.toLowerCase() === 'start karo' ||
	lastResult.toLowerCase() === 'chalu karo' ||
	 lastResult.toLowerCase() === 'gana chalu karo' ||  
	  lastResult.toLowerCase() === 'gana start karo' ||
	    lastResult.toLowerCase() === 'gana bajao' ||
	    lastResult.toLowerCase() === 'song chalao' ||
	lastResult.toLowerCase() === 'song start' ||
	lastResult.toLowerCase() === 'bajao') {
            // Handle the 'play' command
            const butto1 = document.getElementById('play');
            butto1.click();
            playAudio('/sound/songplay.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        }
	  if (lastResult.toLowerCase() === 'bhenchod' ||
            lastResult.toLowerCase() === 'madarchod' ||
	      lastResult.toLowerCase() === 'bhosdi' ||
	      lastResult.toLowerCase() === 'madrachod' ||
	    lastResult.toLowerCase() === 'madharchod' ||
            lastResult.toLowerCase() === 'chutiya' ||
            lastResult.toLowerCase() === 'bhosdi ke' ||
	      lastResult.toLowerCase() === 'bhosdike' ||
            lastResult.toLowerCase() === 'bhosdi wala' ||
	    lastResult.toLowerCase() === 'bahan chod' ||
            lastResult.toLowerCase() === 'madharchod' ||
            lastResult.toLowerCase() === 'bhosdiwala' ||
            lastResult.toLowerCase() === 'gandu' ||
	      lastResult.toLowerCase() === 'bahanchod' ||
	      lastResult.toLowerCase() === 'nikal madarchod' ||
	      lastResult.toLowerCase() === 'salagandu' ||
	      lastResult.toLowerCase() === 'hrami' ||
	      lastResult.toLowerCase() === 'harami' ||
	      lastResult.toLowerCase() === 'bhosdi wali' ||
	      lastResult.toLowerCase() === 'bhosdiwali' ||
	      lastResult.toLowerCase() === 'sali harami' ||
	      lastResult.toLowerCase() === 'sali hrami' ||
	      lastResult.toLowerCase() === 'sali kutti' ||
	      lastResult.toLowerCase() === 'kutti sali' ||
	      lastResult.toLowerCase() === 'kutti' ||
	       lastResult.toLowerCase() === 'madhar chod' ||
            lastResult.toLowerCase() === 'randi' ||
            lastResult.toLowerCase() === 'haraami' ||
            lastResult.toLowerCase() === 'sala chutiya') {
            // Handle commands for stopping audio
            const butto1 = document.getElementById('hate');
            butto1.click();
            playAudio('/sound/ihate.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 
	   if (lastResult.toLowerCase() === 'chup' ||
            lastResult.toLowerCase() === 'bilkul chup' ||
	      lastResult.toLowerCase() === 'munh band kar' ||
	      lastResult.toLowerCase() === 'muh band kar' ||
	      lastResult.toLowerCase() === 'chup ho ja bhosdi ke' ||
	      lastResult.toLowerCase() === 'chup ho ja bhosdike' ||
	      lastResult.toLowerCase() === 'chup hoja bhosdi ke' ||
	       lastResult.toLowerCase() === 'chup gandu' ||
	       lastResult.toLowerCase() === 'randi sali munh band kar' ||
	       lastResult.toLowerCase() === 'sali munh band kar' ||
	       lastResult.toLowerCase() === 'ek dam chup' ||
            lastResult.toLowerCase() === 'chup bilkul chup') {
            // Handle volume down commands
            const butto1 = document.getElementById('chup');
            butto1.click();
            playAudio('/sound/sorrybabu.mp3'); // Replace with the appropriate audio URL
            commandMatched = true;
        } 

        // If no command matched, type the spoken word in the search box and trigger search button click
        if (!commandMatched) {
            const searchBox = document.getElementById('search-basic');
            searchBox.value = lastResult;

            const searchButton = document.getElementById('search-btn');
            searchButton.click(); // Trigger search button click
        }
    };

    // Function to play audio from a given URL
    function playAudio(audioURL) {
        const audio = new Audio(audioURL);
        audio.play();
    }
</script>

<b id="VFYmp3v2"></b>            
<div id="AdVideo"></div>            
<div id="AdAudio"></div>
   <div id="hello"></div>     
 <div id="chup"></div>	
<div id="hate"></div>	
<div id="iloveyou"></div>
<div id="developer"></div>
<div id="fastForwardbutto"></div>
<div id="rewindbutto"></div>
<butto id="volume50"></butto>









<script>
function simulateTyping(element, text, index = 0) {
    if (index < text.length) {
        element.value += text.charAt(index);
        index++;
        setTimeout(function() {
            simulateTyping(element, text, index);
        }, 100); // Adjust the timeout for the typing speed
    } else {
        // Trigger the search after typing is complete
        document.getElementById('search-btn').click();
    }
}

function startDictation() {
    if (window.hasOwnProperty('webkitSpeechRecognition')) {
        var recognition = new webkitSpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = "en-US";

        recognition.onresult = function(e) {
            var spokenText = e.results[0][0].transcript;
            startSearchWithTyping(spokenText);
        };

        recognition.onerror = function(e) {
            recognition.stop();
        }

        recognition.start();
    }
}

// Function to initiate search with typing effect
function startSearchWithTyping(query) {
    var searchInput = document.getElementById('search-basic');
    searchInput.value = ''; // Clear existing text
    simulateTyping(searchInput, query);
}
// Function to initiate search with typing effect
function startSearchWithTyping(query) {
    var searchInput = document.getElementById('search-basic');
    searchInput.value = ''; // Clear existing text
    simulateTyping(searchInput, query);
}
function searchVibesSongs() {
    var query = "sachet prampra new hindi songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchBhojpuriSongs() {
    var query = "new bhojpuri songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchshivaniSongs() {
    var query = "shivani singh new bhojpuri songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}		
function searchBhaktiSongs() {
    var query = "hindi bhakti songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchAidcSongs() {
    var query = "AIDC"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchsrlofiSongs() {
    var query = "SR lofi 2.0"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchsadSongs() {
    var query = "sad hindi song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchloveSongs() {
    var query = "mixing i"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchPuraneSongs() {
    var query = "original hinid sad song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}		
function searchHindiSongs() {
    var query = "Tips official"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchnonstopSongs() {
    var query = "its non-stop"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
	
function searchpawansinghSongs() {
    var query = "pawan singh new song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchankushrajaSongs() {
    var query = "ankush raja new song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	

function searchnehaSongs() {
    var query = "neha Kakkar songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	

function searcharjitsinghSongs() {
    var query = "arjit singh hits songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchshilpiSongs() {
    var query = "shilpi raj new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
	}
function searchkalluSongs() {
    var query = "kallu arvind akela new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchbadshahSongs() {
    var query = "badshah new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}	
function searchkhesariSongs() {
    var query = "khesarilal new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchneelkamalsinghSongs() {
    var query = "neelkamal singh new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchbpraakSongs() {
    var query = "b praak new song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchdarshanSongs() {
    var query = "darshan rawal new songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchsachetSongs() {
    var query = "sachet prampara hits songs"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}
function searchbreakupSongs() {
    var query = "sad hindi breakup song"; // Hindi songs ke liye query
    $(".search-bar").val(query); // Query input field mein set karen
    search(); // Search function ko call karen
}		
	
</script>






<style>html {
	background-color:#000;
}
audio, myAudio {
	background-color:red;
       border-radius : 0px; 
	height: 0px;
Width:0%;
	outline: 2;

	filter: invert(1);
	opacity: 0;
}</style>
<style >
Footer{
   color:#04B2A7;
}</style>

    


<b href="#" onmousedown="op.play()">
<style>#offline-message { display: none; }

[offline="true"] #offline-message {
	display: block;
}














// styles


main {
	
}



#offline-message {
 z-index:999999;
	color: #fff;
	
	box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);
	background: #0075ff;
}</style>


<script>
var offlineMsg = document.getElementById("offline-message");

		function _showOfflineMessage(){
			document.getElementsByTagName("html")[0].setAttribute("offline",true);
			offlineMsg.setAttribute("aria-hidden","false");
			setTimeout(function(){
				offlineMsg.focus();
			},400);
		}

		function _hideOfflineMessage(){
			document.getElementsByTagName("html")[0].setAttribute("offline",false);
			offlineMsg.setAttribute("aria-hidden","true");
		}

		window.addEventListener("offline", _showOfflineMessage, false);

		window.addEventListener("online", _hideOfflineMessage, false);</script></b>


<b href="#" onmousedown="op.play()">
<div aria-hidden="true" tabindex="-1" id="offline-message">
    <iframe src="/data-off" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999; "></iframe>  
 
</div></b>
</div>
<div class="main-container">
  <div class="main-header">
   </div> <div id="api1" class="modal-design">
    <div>
     </div></div></div>

<div id="share_titlevkm1m"></div>
<div id="share_textvkm1m"></div>
<div id="outputvkm1m"></div>    



	
</script>
<script>/*<![CDATA[*/ 
  const installbutto = document.getElementById("vivek_maurya");window.addEventListener("beforeinstallprompt", e => {e.preventDefault();deferredPrompt = e;installbutto.hidden = false;installbutto.addEventListener("click", installApp);});function installApp() {deferredPrompt.prompt();installbutto.disabled = true;deferredPrompt.userChoice.then(choiceResult => {if (choiceResult.outcome === "accepted") {installbutto.hidden = true;} else {}installbutto.disabled = false;deferredPrompt = null;});}window.addEventListener("appinstalled", evt => {console.log("appinstalled fired", evt);});
  /*]]>*/</script>
<script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js');
    } else {
      alert('ServiceWorker unavailable');
    }
  </script>


	
	
	





	
<audio id="watermarkAudio2" controls>
            <source src="/sound/next.mp3" type="audio/mpeg">
        </audio>
<audio id="watermarkAudio1" preload="auto">
    <source src="/sound/start.mp3" type="audio/mpeg">
</source></audio>








  


  <audio id="disconnectAudio">
    <source src="/sound/vnd.mp3" type="audio/mpeg">
  </source></audio>

  <audio id="connectAudio">
    <source src="/sound/vnc.mp3" type="audio/mpeg">
  </source></audio>

  

	
	
 <butto id="developer"></butto>

<butto id="playVideobutto"></butto>


<style>

.modal-container1 {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    
	background: #EEAECA;
background: radial-gradient(circle, rgba(238, 174, 202, 0.18) 0%, rgba(0, 0, 0, 1) 77%);z-index: 999999;
    overflow: hidden; /* scroll remove, full page content visible */
}

.modal-content1 {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    text-align: center;
    background-color: transparent; /* no border, no extra background */
    display: flex;
    justify-content: center;
    align-items: center; /* center content vertically and horizontally */
    flex-direction: column; /* stack content vertically */
    box-sizing: border-box;
}

.modal-content1 > * {
    width: 100%; /* any child element takes full width */
    height: 100%; /* any child element takes full height */
	}
	
</style>






<!-- The modal container -->
<div id="modal" class="modal-container1">
  <div class="modal-content1">
    <span onclick="closeModal()" style="float: right;"></span>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<div class="container"> 
  
  <div id="phone">
  
    <div id="top-menu">
      <div class="button">
        <i class="fas fa-volume-mute" id="volume10"></i>
      </div>
      <div class="small-text">
      <div id="button">
      <div id="volumeSliderContainer">
    <input type="range" id="volumeSlider" min="0" max="100" step="1" value="100"/>
</div>
</div>	      
      
      
      </div>
      <div class="button">
        <i id="volume100" class="fa fa-volume-up"></i>
      </div>
    </div>  <!-- /top-menu -->
    
    <div class="thumbnail-border">
      
<div class="audio-player">

	
<div id="thumbnailContainer">
   <img id="SThumb" src="" alt="/img/newdp.png" onclick="clickButton()">
   <div id="playButtonOverlay" onclick="playPause()"></div>
</div>


</div>  
    <!-- Your poster image goes here -->
  

	    
    </div> <!--/thumbnail-border -->
    
    <div id="song-details">
      <h1 class="song-title"id="vfytitle">

<!-- Add this div to your HTML -->



	      
      </h1>
      <span class="artist"></span>
<div id="downloadButtonDiv"></div>

	    
    </div> <!-- /song-details -->

    <div id="time-slider">
      <div class="slider-times">
        <span id="current-time"></span> 
        <span id="total-time"></span> 
      </div>


	    
      <input type="range" min="1" max="100" value="0" class="slider" id="seekbar" />

<br>
<div id="currentSongTitle"></div>

	    
    </div> <!-- /time-slider -->
    
   <b id="stop"></b>
	
<div id="song-controls">
     
      <div class="button">

<b id="play" onclick="clickButton()">	<i id="playvfy" class="fas fa-pause" onclick="togglePause()"></i></b>
   

      
      </div>
	
      <div class="button">
          <i id="VFYmp3" class="fas fa-download"></i>
      </div>

<div class="button">
        <i onclick="closeModal()" class="fa fa-list"></i>
      </div> 
	
<div class="button">
          <i id="nextbutto" class="fas fa-step-forward"></i>
      </div>
	    
    </div><!-- /song-controls -->
    
  </div> <!-- /phone -->
  
  

</div> <!-- /container -->


  	<div id="audio-player">
  <audio id="SAudio" controls style="display: none;">
    <source src="your-audio-file.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

</div>

<!-- Popup container -->	   
  </div>
</div>
<script>const videoList = document.getElementById("videos");
const li = document.getElementsByTagName("li");
const videos = videoList.childNodes;

for (let i = 0; i < 5; i++) {
  videos.forEach((item) => {
    let cln = item.cloneNode(true);
    videoList.appendChild(cln);
  });
}


}</script>




 
	
	
	
   <style>
    

    #toggleButton {
      color: #E74C3C; /* Set button text color */
    }

    .icon {
      color: #E74C3C; /* Set icon color */
      font-size: 19px; /* Set icon size */
      margin-right: 2px; /* Optional: Add margin to separate icon from text */
    }
  </style>


  

  


    <script>
        function clickButton() {
            // Get the reference to the button by its ID
            var button1 = document.getElementById("play");

            // Simulate a click on the button
            button1.click();
        }
    </script>



  <style>
    #playvfy {
      transition: transform 0.3s ease-in-out;
    }
  </style>

  <script>
    let isPaused = false;
    
    function togglePause() {
      const pauseIcon = document.getElementById('playvfy');
      isPaused = !isPaused;

      if (isPaused) {
        pauseIcon.classList.remove('fa-pause');
        pauseIcon.classList.add('fa-play');
      } else {
        pauseIcon.classList.remove('fa-play');
        pauseIcon.classList.add('fa-pause');
      }
    }
  </script>


<div class="modal-content" data-modal-id="1">
 <iframe src="/connect/v2/Cpanel.html" style="position:fixed; top:20; left:0; bottom:0; right:0; width:100%; height:96%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999; "></iframe>  
 </div>

   <p id="status"></p>

   <style>
        /* Hidden download button initially */
        #downloadButton1 {
            display: none;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
           margin-top: 20px;
        }
    </style>
  <!-- Hidden audio element for playback -->
    <audio id="soundPlayer" style="display:none;"></audio>

    <!-- Download Button -->
    <button id="downloadButton1" onclick="startDownload()"></button>

    
<script src="https://wurfl.io/wurfl.js"></script>	
<h4 id="brandName" style="cursor: pointer; text-decoration: underline;"></h4>

<style>
.feedback {
  z-imdex:999999;
  background-color : transparent;
  color: transparent;
  
  
  border-color: #46b8da;
}

#mybutton {
z-imdex:999999;	
  position: fixed;
  bottom: 0%;
  left: 0px;
}
</style>


<script>
document.getElementById('search-btn').addEventListener('click', function() {
  // Puri page height ka 20% calculate karna
  const scrollAmount = window.innerHeight * 0.5;
  
  // Page ko 20% scroll karna
  window.scrollBy({
    top: scrollAmount,
    behavior: 'smooth'
  });
});
  
</script>





<script src="https://cdn.socket.io/4.7.1/socket.io.min.js"></script>

<div class="popup" id="popup">
    <h3>API Setting</h3>
    <div class="small-popup">
        <div class="custom-radio">
            <input type="radio" id="self" name="apiSelection" value="self">
            <label for="self">VFY</label>

            <input type="radio" id="self1" name="apiSelection" value="self1">
            <label for="self1">VFY2</label>

            <input type="radio" id="youtube" name="apiSelection" value="youtube">
            <label for="youtube">YT</label>
        </div>
    </div>
    <button class="close-btn" onclick="closePopup()">Close</button>
</div>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>

    <div class="side-menu">
        <div class="menu-item">
            <i class="fas fa-cog" onclick="openPopup()" ></i>
            
        </div>
        <div class="menu-item">
            <i class="fas fa-microphone" onclick="startDictation()"></i>
            
          
		</div>


  <div class="menu-item" onclick="showDetail()">
  <i id="heartDot" class="fas fa-heart"></i>
</div>
		
    </div>
<div id="customAlert"></div>
